# AI åœ“æ¡Œ (AI Roundtable) æŠ€è¡“è¦æ ¼æ–‡ä»¶

> ç‰ˆæœ¬ï¼š0.2.0 | æœ€å¾Œæ›´æ–°ï¼š2026-01-25

---

## 1. æ¦‚è¿°

### 1.1 å°ˆæ¡ˆç°¡ä»‹

AI åœ“æ¡Œæ˜¯ä¸€æ¬¾ Chrome æ“´å……åŠŸèƒ½ï¼Œå…è¨±ä½¿ç”¨è€…åŒæ™‚æ“æ§å¤šå€‹ AI å¹³å°ï¼ˆClaudeã€ChatGPTã€Geminiï¼‰ï¼Œå¯¦ç¾ AI ä¹‹é–“çš„åœ“æ¡Œè¨è«–ã€äº¤å‰è©•åƒ¹å’Œæ·±åº¦å”ä½œã€‚

### 1.2 æ ¸å¿ƒç›®æ¨™

> **åŒä¸€å€‹å•é¡Œï¼Œè®“å¤šå€‹æ¨¡å‹åŒæ™‚å›ç­”ä¸¦äº’ç›¸è¾¯è«–ï¼Œç”¨åˆ†æ­§èˆ‡è¡çªé€¼å‡ºæ¼æ´ã€æ‹“å±•æ€è·¯ã€‚**

### 1.3 è¨­è¨ˆåŸå‰‡

| åŸå‰‡ | èªªæ˜ |
|------|------|
| æœ¬æ©ŸåŸ·è¡Œ | ä¸ä¸Šå‚³ä»»ä½•è³‡æ–™è‡³å¤–éƒ¨ä¼ºæœå™¨ |
| ç¶²é æ“ä½œ | ç›´æ¥æ“ä½œ AI å¹³å°ç¶²é ä»‹é¢ï¼Œä¸ä½¿ç”¨ API |
| å¯¦é©—æ€§è³ª | å°ˆæ³¨é©—è­‰ã€Œåœ“æ¡Œå¼æ€è€ƒæµç¨‹ã€çš„åƒ¹å€¼ |

---

## 2. æŠ€è¡“æ¶æ§‹

### 2.1 æŠ€è¡“å †ç–Š

- **å¹³å°**ï¼šChrome Extension (Manifest V3)
- **èªè¨€**ï¼šJavaScript (ES6+)
- **ä»‹é¢**ï¼šHTML5 + CSS3
- **å„²å­˜**ï¼šchrome.storage.local / chrome.storage.session

### 2.2 æª”æ¡ˆçµæ§‹

```
ai-roundtable/
â”œâ”€â”€ manifest.json           # æ“´å……åŠŸèƒ½è¨­å®š (Manifest V3)
â”œâ”€â”€ background.js           # Service Worker è¨Šæ¯ä¸­è½‰
â”œâ”€â”€ sidepanel/
â”‚   â”œâ”€â”€ panel.html          # å´é‚Šæ¬„ UI çµæ§‹ï¼ˆå« Modalï¼‰
â”‚   â”œâ”€â”€ panel.css           # æ¨£å¼è¡¨
â”‚   â””â”€â”€ panel.js            # æ§åˆ¶é‚è¼¯ (~1260 è¡Œ)
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ claude.js           # Claude é é¢æ³¨å…¥è…³æœ¬ (~305 è¡Œ)
â”‚   â”œâ”€â”€ chatgpt.js          # ChatGPT é é¢æ³¨å…¥è…³æœ¬ (~361 è¡Œ)
â”‚   â””â”€â”€ gemini.js           # Gemini é é¢æ³¨å…¥è…³æœ¬ (~307 è¡Œ)
â”œâ”€â”€ specs/                  # è¦æ ¼èˆ‡æ¸¬è©¦æ–‡ä»¶
â”‚   â”œâ”€â”€ spec.md             # æŠ€è¡“è¦æ ¼æ–‡ä»¶
â”‚   â”œâ”€â”€ test-plan.md        # æ¸¬è©¦è¨ˆåŠƒ
â”‚   â””â”€â”€ test-cases.md       # æ¸¬è©¦æ¡ˆä¾‹
â””â”€â”€ icons/                  # æ“´å……åŠŸèƒ½åœ–ç¤º
```

### 2.3 æ¬Šé™éœ€æ±‚

| æ¬Šé™ | ç”¨é€” |
|------|------|
| `sidePanel` | é¡¯ç¤ºå´é‚Šæ¬„æ§åˆ¶å° |
| `activeTab` | å­˜å–ç›®å‰åˆ†é  |
| `tabs` | æŸ¥è©¢èˆ‡ç®¡ç†åˆ†é  |
| `scripting` | æ³¨å…¥å…§å®¹è…³æœ¬ |
| `storage` | æœ¬æ©Ÿè³‡æ–™å„²å­˜ |

### 2.4 ä¸»æ©Ÿæ¬Šé™

```
https://claude.ai/*
https://chat.openai.com/*
https://chatgpt.com/*
https://gemini.google.com/*
```

---

## 3. æ¨¡çµ„è¦æ ¼

### 3.1 Background Script (`background.js`)

**è·è²¬**ï¼šService Workerï¼Œè² è²¬è¨Šæ¯è·¯ç”±èˆ‡ç‹€æ…‹ç®¡ç†

#### 3.1.1 URL æ¨¡å¼é…ç½®

```javascript
const AI_URL_PATTERNS = {
  claude: ['claude.ai'],
  chatgpt: ['chat.openai.com', 'chatgpt.com'],
  gemini: ['gemini.google.com']
};
```

#### 3.1.2 è¨Šæ¯é¡å‹

| é¡å‹ | æ–¹å‘ | èªªæ˜ |
|------|------|------|
| `SEND_MESSAGE` | SidePanel â†’ Background â†’ Content | å‚³é€è¨Šæ¯è‡³ AI |
| `GET_RESPONSE` | SidePanel â†’ Background â†’ Content | å–å¾— AI æœ€æ–°å›è¦† |
| `RESPONSE_CAPTURED` | Content â†’ Background â†’ SidePanel | é€šçŸ¥å·²æ“·å–å›è¦† |
| `CONTENT_SCRIPT_READY` | Content â†’ Background | å…§å®¹è…³æœ¬å·²è¼‰å…¥ |
| `TAB_STATUS_UPDATE` | Background â†’ SidePanel | åˆ†é é€£ç·šç‹€æ…‹æ›´æ–° |
| `SEND_RESULT` | Background â†’ SidePanel | å‚³é€çµæœé€šçŸ¥ |

#### 3.1.3 æ ¸å¿ƒå‡½å¼

| å‡½å¼ | èªªæ˜ |
|------|------|
| `handleMessage(message, sender)` | è¨Šæ¯åˆ†ç™¼è™•ç†å™¨ |
| `getResponseFromContentScript(aiType)` | å¾å…§å®¹è…³æœ¬å³æ™‚å–å¾—å›è¦† |
| `sendMessageToAI(aiType, message)` | å‚³é€è¨Šæ¯è‡³æŒ‡å®š AI |
| `findAITab(aiType)` | å°‹æ‰¾å°æ‡‰ AI çš„åˆ†é  |
| `getStoredResponses()` | å–å¾— session storage ä¸­çš„å›è¦† |
| `setStoredResponse(aiType, content)` | å„²å­˜å›è¦†è‡³ session storage |
| `notifySidePanel(type, data)` | é€šçŸ¥ Side Panelï¼ˆtype + data åˆä½µç™¼é€ï¼‰|
| `getAITypeFromUrl(url)` | å¾ URL åˆ¤æ–· AI é¡å‹ |

---

### 3.2 Side Panel (`sidepanel/panel.js`)

**è·è²¬**ï¼šä½¿ç”¨è€…ä»‹é¢æ§åˆ¶å™¨ï¼Œè™•ç†æ‰€æœ‰ä½¿ç”¨è€…äº’å‹•

#### 3.2.1 æ“ä½œæ¨¡å¼

| æ¨¡å¼ | èªªæ˜ |
|------|------|
| **ä¸€èˆ¬æ¨¡å¼** | å¤šç›®æ¨™å‚³é€ã€äº¤å‰å¼•ç”¨ã€äº’è©• |
| **è¨è«–æ¨¡å¼** | å…©å€‹ AI é€²è¡Œå¤šè¼ªæ·±åº¦è¾¯è«– |

#### 3.2.2 ä¸€èˆ¬æ¨¡å¼æŒ‡ä»¤

##### äº’è©•æŒ‡ä»¤ `/mutual`

```
/mutual                      # ä½¿ç”¨é è¨­æç¤º
/mutual é‡é»åˆ†æå„ªç¼ºé»        # è‡ªè¨‚è©•åƒ¹æç¤º
```

- å–å¾—æ‰€æœ‰é¸å– AI çš„ç›®å‰å›è¦†
- å°‡å…¶ä»– AI çš„å›è¦†ä»¥ XML æ¨™ç±¤åŒ…è£å‚³é€çµ¦æ¯å€‹ AI
- æ ¼å¼ï¼š`<{aiType}_response>...</{aiType}_response>`

##### äº¤å‰å¼•ç”¨æŒ‡ä»¤ `/cross`

```
/cross @Claude @Gemini <- @ChatGPT è©•åƒ¹ä¸€ä¸‹
/cross @ChatGPT <- @Claude @Gemini å°æ¯”ä¸€ä¸‹
```

- ç®­é ­ `<-` åˆ†éš”ç›®æ¨™ï¼ˆè©•åƒ¹è€…ï¼‰èˆ‡ä¾†æºï¼ˆè¢«è©•åƒ¹è€…ï¼‰
- æ”¯æ´å¤šå°ä¸€ã€ä¸€å°å¤šçš„è©•åƒ¹çµ„åˆ

##### @ æåŠèªæ³•

```
@Claude è©•åƒ¹ä¸€ä¸‹ @ChatGPT    # 2 AI ç°¡åŒ–èªæ³•
```

- æœ€å¾Œ @çš„æ˜¯ä¾†æºï¼Œå‰é¢çš„æ˜¯ç›®æ¨™
- è‡ªå‹•åµæ¸¬è©•åƒ¹é—œéµå­—ï¼šè©•åƒ¹ã€çœ‹çœ‹ã€æ€éº¼æ¨£ã€compare ç­‰

#### 3.2.3 è¨è«–æ¨¡å¼ç‹€æ…‹

```javascript
let discussionState = {
  active: false,           // æ˜¯å¦é€²è¡Œä¸­
  topic: '',               // è¨è«–ä¸»é¡Œ
  participants: [],        // [ai1, ai2] åƒèˆ‡è€…
  currentRound: 0,         // ç›®å‰è¼ªæ¬¡
  history: [],             // è¨è«–æ­·å²è¨˜éŒ„
  pendingResponses: Set(), // ç­‰å¾…å›è¦†çš„ AI
  roundType: null          // 'initial'|'cross-eval'|'counter'|'summary'
};
```

#### 3.2.4 è¨è«–æµç¨‹

```
ç¬¬ 1 è¼ª (initial)ï¼š     é›™æ–¹å„è‡ªé—¡è¿°è§€é»
ç¬¬ 2+ è¼ª (cross-eval)ï¼š äº¤å‰è©•åƒ¹å°æ–¹è§€é»
æ‘˜è¦ (summary)ï¼š        é›™æ–¹å„è‡ªç”¢ç”Ÿè¨è«–æ‘˜è¦
```

#### 3.2.5 çµ±ä¸€å‹•ä½œé¸å–®

æ‰€æœ‰ä¸€èˆ¬æ¨¡å¼å‹•ä½œæ•´åˆè‡³å–®ä¸€ä¸‹æ‹‰é¸å–®ï¼Œä½¿ç”¨ `<optgroup>` åˆ†çµ„ï¼š

| åˆ†çµ„ | å‹•ä½œ | èªªæ˜ |
|------|------|------|
| **ğŸ”„ äº’è©•** | è®“å‹¾é¸çš„ AI äº’ç›¸è©•åƒ¹ | åŸ·è¡Œäº’è©•ï¼ˆä½¿ç”¨å‹¾é¸çš„ AIï¼‰ |
| **ğŸ“ è«‹...è©•åƒ¹** | è«‹ Claude è©•åƒ¹... | é–‹å•Ÿ Modal é¸æ“‡ä¾†æº |
| | è«‹ ChatGPT è©•åƒ¹... | é–‹å•Ÿ Modal é¸æ“‡ä¾†æº |
| | è«‹ Gemini è©•åƒ¹... | é–‹å•Ÿ Modal é¸æ“‡ä¾†æº |
| **âš™ï¸ é€²éš** | æŒ‡å®šä¾†æºè©•åƒ¹ï¼ˆå¤šå°ä¸€ï¼‰ | é–‹å•Ÿé€²éš Modal |

#### 3.2.6 è©•åƒ¹èªæ°£ (Tone Prompts)

é€é Modal é¸æ“‡è©•åƒ¹èªæ°£ï¼š

```javascript
const TONE_PROMPTS = {
  general: 'è«‹ç¶œåˆè©•åƒ¹ä»¥ä¸Šè§€é»ã€‚ä½ åŒæ„ä»€éº¼ï¼Ÿä¸åŒæ„ä»€éº¼ï¼Ÿæœ‰ä»€éº¼è£œå……ï¼Ÿ',
  pros: 'è«‹æŒ‡å‡ºä»¥ä¸Šå›è¦†ä¸­å€¼å¾—å­¸ç¿’çš„å„ªé»èˆ‡äº®é»ã€‚',
  cons: 'è«‹æŒ‡å‡ºä»¥ä¸Šå›è¦†ä¸­çš„å•é¡Œã€ä¸è¶³æˆ–å¯æ”¹é€²ä¹‹è™•ã€‚',
  add: 'è«‹è£œå……ä»¥ä¸Šå›è¦†ä¸­éºæ¼çš„å…§å®¹æˆ–é‡è¦è€ƒé‡ã€‚',
  compare: 'è«‹å°æ¯”ä»¥ä¸Šè§€é»èˆ‡ä½ çš„çœ‹æ³•ï¼Œåˆ†æç•°åŒã€‚'
};
```

#### 3.2.7 å‹•ä½œçµ„æ…‹é…ç½®

```javascript
const CROSS_REF_ACTIONS = {
  // ğŸ”„ äº’è©•
  mutual: { type: 'mutual', prompt: '' },
  // ğŸ“ è«‹...è©•åƒ¹ (éœ€è¦å½ˆå‡ºé¸æ“‡ä¾†æº)
  'ask-claude': { type: 'ask', evaluator: 'claude' },
  'ask-chatgpt': { type: 'ask', evaluator: 'chatgpt' },
  'ask-gemini': { type: 'ask', evaluator: 'gemini' },
  // âš™ï¸ é€²éš
  'advanced-cross': { type: 'advanced' }
};
```

#### 3.2.8 ä¾†æºé¸æ“‡ Modal

é»é¸ã€Œè«‹...è©•åƒ¹ã€æˆ–ã€Œé€²éšã€å‹•ä½œæ™‚ï¼Œæœƒå½ˆå‡º Modal è®“ä½¿ç”¨è€…é¸æ“‡ï¼š

- **ä¾†æº AI**ï¼šè¦è¢«è©•åƒ¹çš„ AIï¼ˆå¯å¤šé¸ï¼‰
- **è©•åƒ¹èªæ°£**ï¼šç¶œåˆè©•åƒ¹/æŒ‡å‡ºå„ªé»/æŒ‡å‡ºå•é¡Œ/è£œå……èªªæ˜/è§€é»å°æ¯”

#### 3.2.9 Prompt Repetition

å¯é¸åŠŸèƒ½ï¼Œå‹¾é¸å¾Œæœƒå°‡è¨Šæ¯é‡è¤‡å‚³é€å…©æ¬¡ï¼Œæ ¼å¼ï¼š

```
[åŸå§‹è¨Šæ¯]

---

[åŸå§‹è¨Šæ¯]
```

å»ºè­°ç”¨æ–¼éæ¨ç†æ¨¡å‹ä»¥æé«˜å›è¦†å“è³ªã€‚

#### 3.2.10 æ—¥èªŒç³»çµ±

**æ´»å‹•ç´€éŒ„** (`log-container`)
- æŒçºŒè¨˜éŒ„ä½¿ç”¨è€…æ“ä½œ
- æœ€å¤šä¿ç•™ 50 ç­†
- æ ¼å¼ï¼š`YYYY-MM-DD HH:MM:SS è¨Šæ¯`

**ç³»çµ±æ—¥èªŒ** (`syslog-container`)
- é¦–æ¬¡é»é¸åˆ†é æ™‚æ‰å•Ÿç”¨
- æœ€å¤šä¿ç•™ 500 ç­†
- åŒ…å« levelã€sourceã€messageã€context
- æ ¼å¼ï¼š`YYYY-MM-DD HH:mm:ss.SSS+TZ [LEVEL] [source] message {context}`

**Copy/Clear æŒ‰éˆ•**
- Copy: è¤‡è£½ç•¶å‰åˆ†é æ—¥èªŒå…§å®¹
- Clear: æ¸…é™¤ç•¶å‰åˆ†é æ—¥èªŒ

---

### 3.3 Content Scripts (`content/*.js`)

**è·è²¬**ï¼šæ³¨å…¥è‡³ AI å¹³å°é é¢ï¼Œè™•ç† DOM æ“ä½œ

#### 3.3.1 å…±é€šåŠŸèƒ½

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| è¨Šæ¯æ³¨å…¥ | å°‡æ–‡å­—å¡«å…¥è¼¸å…¥æ¡†ä¸¦é»æ“Šå‚³é€æŒ‰éˆ• |
| å›è¦†æ“·å– | åµæ¸¬ AI å›è¦†å®Œæˆä¸¦æ“·å–å…§å®¹ |
| ä¸²æµåµæ¸¬ | åˆ¤æ–· AI æ˜¯å¦ä»åœ¨ç”¢ç”Ÿå›è¦† |
| ä¸Šä¸‹æ–‡é©—è­‰ | ç¢ºèªæ“´å……åŠŸèƒ½ä¸Šä¸‹æ–‡æœ‰æ•ˆ |

#### 3.3.2 Claude Content Script (`claude.js`)

**è¼¸å…¥æ¡†é¸æ“‡å™¨**ï¼š
```javascript
[
  'div[contenteditable="true"].ProseMirror',
  'div.ProseMirror[contenteditable="true"]',
  '[data-placeholder="How can Claude help you today?"]',
  'fieldset div[contenteditable="true"]'
]
```

**å‚³é€æŒ‰éˆ•é¸æ“‡å™¨**ï¼š
```javascript
[
  'button[aria-label="Send message"]',
  'button[aria-label="Send Message"]',
  'button[type="submit"]',
  'fieldset button:last-of-type',
  'button svg[viewBox]'  // å« SVG åœ–ç¤ºçš„æŒ‰éˆ•
]
```

**å›è¦†æ“·å–**ï¼š
- é¸æ“‡å™¨ï¼š`[data-is-streaming="false"]` + `.standard-markdown`
- éæ¿¾ Thinking blocksï¼ˆæ€è€ƒéç¨‹å€å¡Šï¼‰
- æ’é™¤ `overflow-hidden` å’Œ `max-h-` å®¹å™¨å…§çš„å…§å®¹

**ä¸²æµåµæ¸¬**ï¼š
```javascript
document.querySelector('[data-is-streaming="true"]') ||
document.querySelector('button[aria-label*="Stop"]')
```

#### 3.3.3 ChatGPT Content Script (`chatgpt.js`)

**è¼¸å…¥æ¡†é¸æ“‡å™¨**ï¼š
```javascript
[
  '#prompt-textarea',
  'textarea[data-id="root"]',
  'div[contenteditable="true"][data-placeholder]',
  'textarea[placeholder*="Message"]',
  'textarea'
]
```

**å‚³é€æŒ‰éˆ•é¸æ“‡å™¨**ï¼š
```javascript
[
  'button[data-testid="send-button"]',
  'button[aria-label="Send prompt"]',
  'button[aria-label="Send message"]',
  'form button[type="submit"]',
  'button svg path[d*="M15.192"]'  // ç®­é ­åœ–ç¤ºçš„ path
]
```

**å›è¦†æ“·å–**ï¼š
```javascript
[
  '[data-message-author-role="assistant"] .markdown',
  '[data-message-author-role="assistant"] [class*="markdown"]',
  '[data-message-author-role="assistant"]',
  '.agent-turn .markdown',
  '[class*="agent-turn"] .markdown',
  '[data-testid*="conversation-turn"]:has([data-message-author-role="assistant"]) .markdown',
  '[data-testid*="conversation-turn"] .markdown',
  'article[data-testid*="conversation"] .markdown'
]
```

**ä¸²æµåµæ¸¬** (å¤šé‡æ–¹æ³•)ï¼š
1. Stop æŒ‰éˆ•ï¼š`button[aria-label*="Stop"], button[aria-label*="åœæ­¢"], button[data-testid="stop-button"]`
2. Streaming classï¼š`.result-streaming`
3. Writing blockï¼š`[data-writing-block]`
4. Streaming cursorï¼š`[class*="result-streaming"] span:last-child`

#### 3.3.4 Gemini Content Script (`gemini.js`)

**è¼¸å…¥æ¡†é¸æ“‡å™¨**ï¼š
```javascript
[
  '.ql-editor',
  'div[contenteditable="true"]',
  'rich-textarea textarea',
  'textarea[aria-label*="prompt"]',
  'textarea[placeholder*="Enter"]',
  '.input-area textarea',
  'textarea'
]
```

**å‚³é€æŒ‰éˆ•é¸æ“‡å™¨**ï¼š
```javascript
[
  'button[aria-label*="Send"]',
  'button[aria-label*="submit"]',
  'button.send-button',
  'button[data-test-id="send-button"]',
  '.input-area button',
  'button mat-icon[data-mat-icon-name="send"]'
]
```

**å›è¦†æ“·å–**ï¼š
- ä¸»è¦ï¼š`.model-response-text`
- å‚™æ´ï¼š`message-content`

**ä¸²æµåµæ¸¬**ï¼š
- Gemini ä¸ä½¿ç”¨ UI å…ƒç´ åµæ¸¬ä¸²æµç‹€æ…‹
- åƒ…ä¾è³´å…§å®¹ç©©å®šæ€§æª¢æŸ¥ï¼ˆé€£çºŒ 4 æ¬¡å…§å®¹ä¸è®Šè¦–ç‚ºå®Œæˆï¼‰

---

## 4. å›è¦†æ“·å–æ©Ÿåˆ¶

### 4.1 è¨­è¨ˆåŸå‰‡

- **æŒ‰éœ€è®€å–**ï¼šåƒ…åœ¨ä½¿ç”¨è€…è§¸ç™¼æŒ‰éˆ•æ™‚è®€å–æœ€æ–°å…§å®¹
- **ä¸²æµç­‰å¾…**ï¼šåµæ¸¬ AI å›è¦†å®Œæˆå¾Œæ‰æ“·å–
- **ç©©å®šé©—è­‰**ï¼šå…§å®¹é€£çºŒç©©å®šå¾Œæ‰è¦–ç‚ºå®Œæˆ

### 4.2 æ“·å–åƒæ•¸

| åƒæ•¸ | æ•¸å€¼ | èªªæ˜ |
|------|------|------|
| `maxWait` | 600,000 ms (10 åˆ†é˜) | æœ€é•·ç­‰å¾…æ™‚é–“ |
| `checkInterval` | 500 ms | æª¢æŸ¥é–“éš” |
| `stableThreshold` | Claude: 4, ChatGPT: 6, Gemini: 4 | ç©©å®šæ¬¡æ•¸é–€æª» |
| `streamingCheckThreshold` | 3 (åƒ… ChatGPT) | éä¸²æµç¢ºèªæ¬¡æ•¸ |

### 4.3 æ“·å–æµç¨‹

```
1. å‚³é€è¨Šæ¯å¾Œå•Ÿå‹•æ“·å–è¿´åœˆ
2. æ¯ 500ms æª¢æŸ¥ä¸€æ¬¡ï¼š
   - æ˜¯å¦ä»åœ¨ä¸²æµï¼Ÿ
   - å…§å®¹æ˜¯å¦èˆ‡ä¸Šæ¬¡ç›¸åŒï¼Ÿ
3. é€£çºŒ N æ¬¡å…§å®¹ç©©å®šä¸”éä¸²æµç‹€æ…‹ â†’ æ“·å–å®Œæˆ
4. é€šçŸ¥ Background Script
5. è½‰ç™¼è‡³ Side Panel
```

---

## 5. ä½¿ç”¨è€…ä»‹é¢è¦æ ¼

### 5.1 Side Panel UI çµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI åœ“æ¡Œ                     â”‚
â”‚  Multi-AI Roundtable        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ä¸€èˆ¬] [è¨è«–]              â”‚  â† æ¨¡å¼åˆ‡æ›
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜ Claude    [å·²é€£ç·š]       â”‚
â”‚  â˜‘ ChatGPT   [å·²é€£ç·š]       â”‚  â† ç›®æ¨™é¸æ“‡
â”‚  â˜‘ Gemini    [å·²é€£ç·š]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [é¸æ“‡å‹•ä½œ...           â–¾]  â”‚  â† çµ±ä¸€å‹•ä½œé¸å–®
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    (å¿«é€ŸæŒ‡ä»¤/è©•åƒ¹å‹•ä½œ/
â”‚   â”‚ å¿«é€ŸæŒ‡ä»¤             â”‚  â”‚     æåŠ AI/èªæ³•ç¬¦è™Ÿ)
â”‚   â”‚ è©•åƒ¹å‹•ä½œ             â”‚  â”‚
â”‚   â”‚ æåŠ AI              â”‚  â”‚
â”‚   â”‚ èªæ³•ç¬¦è™Ÿ             â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è¼¸å…¥è¨Šæ¯...          â”‚    â”‚  â† è¨Šæ¯è¼¸å…¥
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  [å‚³é€]                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¶ æŒ‡ä»¤èªªæ˜                 â”‚  â† å¯å±•é–‹èªªæ˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ´»å‹•ç´€éŒ„                    â”‚
â”‚  14:30:01 å·²å‚³é€è‡³ claude   â”‚  â† æ—¥èªŒå€
â”‚  14:30:02 å·²å‚³é€è‡³ chatgpt  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¨è«–æ¨¡å¼ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é–‹å§‹è¨è«–                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åƒèˆ‡è€…ï¼š                    â”‚
â”‚  â˜ Claude  â˜‘ ChatGPT       â”‚
â”‚           â˜‘ Gemini          â”‚
â”‚  è«‹é¸æ“‡ 2 ä½åƒèˆ‡è€…           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [è¨è«–ä¸»é¡Œè¼¸å…¥æ¡†]            â”‚
â”‚  [é–‹å§‹è¨è«–]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é€²è¡Œä¸­ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ç¬¬ 1 è¼ª] ChatGPT vs Geminiâ”‚
â”‚                      [çµæŸ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¼ ä¸»é¡Œ                      â”‚
â”‚  å¾®æœå‹™æ¶æ§‹å’Œå–®é«”æ¶æ§‹...     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç­‰å¾…åˆå§‹å›è¦†...             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ’è©±ï¼ˆåŒæ­¥å‚³é€çµ¦è¨è«–é›™æ–¹ï¼‰  â”‚
â”‚  [è¼¸å…¥æ¡†]                    â”‚
â”‚  [å‚³é€çµ¦é›™æ–¹]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ä¸‹ä¸€è¼ª] [ç”¢ç”Ÿæ‘˜è¦]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ä¾†æºé¸æ“‡ Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è«‹ Claude è©•åƒ¹              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¸æ“‡è¦è®“ Claude è©•åƒ¹èª°ï¼š    â”‚
â”‚  â˜ Claude (å·²ç¦ç”¨)          â”‚
â”‚  â˜‘ ChatGPT                   â”‚
â”‚  â˜ Gemini                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è©•åƒ¹èªæ°£ï¼š[ç¶œåˆè©•åƒ¹ â–¾]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       [å–æ¶ˆ] [ç¢ºå®š]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 æ—¥èªŒå€åŸŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ´»å‹•ç´€éŒ„][ç³»çµ±æ—¥èªŒ][Copy][Clear]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 14:30:01 å·²å‚³é€è‡³ claude     â”‚
â”‚ 14:30:02 å·²å‚³é€è‡³ chatgpt    â”‚
â”‚ 14:30:03 claude: å·²æ“·å–å›è¦†  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.5 ç‹€æ…‹é¡¯ç¤º

| ç‹€æ…‹ | æ–‡å­— | æ¨£å¼ |
|------|------|------|
| å·²é€£ç·š | `å·²é€£ç·š` | `.connected` (ç¶ è‰²) |
| æœªé€£ç·š | `æœªæ‰¾åˆ°` | `.disconnected` (ç°è‰²) |

---

## 6. è³‡æ–™æµ

### 6.1 å‚³é€è¨Šæ¯æµç¨‹

```mermaid
sequenceDiagram
    participant U as User
    participant S as SidePanel
    participant B as Background
    participant C as ContentScript
    participant A as AI Website

    U->>S: è¼¸å…¥è¨Šæ¯ + é»æ“Šå‚³é€
    S->>B: SEND_MESSAGE
    B->>C: INJECT_MESSAGE
    C->>A: å¡«å…¥è¼¸å…¥æ¡† + é»æ“Šå‚³é€
    C->>C: å•Ÿå‹•å›è¦†æ“·å–
    A-->>C: AI å›è¦†å®Œæˆ
    C->>B: RESPONSE_CAPTURED
    B->>S: RESPONSE_CAPTURED
    S->>U: æ›´æ–°æ—¥èªŒ
```

### 6.2 äº¤å‰å¼•ç”¨æµç¨‹

```mermaid
sequenceDiagram
    participant S as SidePanel
    participant B as Background
    participant C1 as SourceAI ContentScript
    participant C2 as TargetAI ContentScript

    S->>B: GET_RESPONSE (sourceAI)
    B->>C1: GET_LATEST_RESPONSE
    C1-->>B: content
    B-->>S: content
    S->>S: çµ„åˆè¨Šæ¯ + XML æ¨™ç±¤
    S->>B: SEND_MESSAGE (targetAI)
    B->>C2: INJECT_MESSAGE
```

---

## 7. å·²çŸ¥é™åˆ¶

| é¡åˆ¥ | é™åˆ¶ |
|------|------|
| å¹³å°ä¾è³´ | ä¾è³´å„ AI å¹³å°çš„ DOM çµæ§‹ï¼Œå¹³å°æ›´æ–°å¯èƒ½å°è‡´åŠŸèƒ½å¤±æ•ˆ |
| è¨è«–äººæ•¸ | è¨è«–æ¨¡å¼å›ºå®š 2 å€‹åƒèˆ‡è€… |
| ç‰¹æ®ŠåŠŸèƒ½ | ä¸æ”¯æ´ Claude Artifactsã€ChatGPT Canvas ç­‰ç‰¹æ®ŠåŠŸèƒ½ |
| ç¶­è­·æ‰¿è«¾ | ä¸ä¿è­‰é•·æœŸç›¸å®¹æˆ–å¿«é€Ÿä¿®å¾© |

---

## 8. éš±ç§èˆ‡å®‰å…¨

### 8.1 è³‡æ–™è™•ç†åŸå‰‡

- âœ… å®Œå…¨æœ¬æ©ŸåŸ·è¡Œ
- âœ… ä¸ä¸Šå‚³ä»»ä½•å…§å®¹
- âœ… ç„¡é™æ¸¬/æ—¥èªŒè’é›†
- âœ… ç„¡ç¬¬ä¸‰æ–¹æœå‹™ä¾è³´

### 8.2 è³‡æ–™å„²å­˜

| å„²å­˜é¡å‹ | ç”¨é€” |
|------|------|
| `chrome.storage.local` | æŒä¹…åŒ–è¨­å®š |
| `chrome.storage.session` | æš«å­˜ AI å›è¦†ï¼ˆå·¥ä½œéšæ®µé™å®šï¼‰ |

### 8.3 è³‡æ–™æ¸…é™¤

è§£é™¤å®‰è£æ“´å……åŠŸèƒ½å³å®Œå…¨æ¸…é™¤ï¼Œæˆ–åœ¨ Chrome æ“´å……åŠŸèƒ½è¨­å®šä¸­æ¸…é™¤å„²å­˜ç©ºé–“ã€‚

---

## 9. ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | è®Šæ›´ |
|------|------|
| 0.2.0 | Modal-based å‹•ä½œç³»çµ±ã€è©•åƒ¹èªæ°£é¸æ“‡ã€Prompt Repetitionã€é›™åˆ†é æ—¥èªŒç³»çµ±ã€Copy/Clear åŠŸèƒ½ |
| 0.1.5 | åˆå§‹ç‰ˆæœ¬ |

---

## é™„éŒ„ Aï¼šè¨Šæ¯æ ¼å¼ç¯„ä¾‹

### A.1 äº’è©•è¨Šæ¯æ ¼å¼

```
ä»¥ä¸‹æ˜¯å…¶ä»– AI çš„è§€é»ï¼š

<chatgpt_response>
[ChatGPT çš„å›è¦†å…§å®¹]
</chatgpt_response>

<gemini_response>
[Gemini çš„å›è¦†å…§å®¹]
</gemini_response>

è«‹è©•åƒ¹ä»¥ä¸Šè§€é»ã€‚ä½ åŒæ„ä»€éº¼ï¼Ÿä¸åŒæ„ä»€éº¼ï¼Ÿæœ‰ä»€éº¼è£œå……ï¼Ÿ
```

### A.2 è¨è«–æ¨¡å¼äº¤å‰è©•åƒ¹æ ¼å¼

```
ä»¥ä¸‹æ˜¯ ChatGPT é‡å°ä¸»é¡Œã€Œ[ä¸»é¡Œ]ã€çš„å›è¦†ï¼š

<chatgpt_response>
[ChatGPT çš„å›è¦†å…§å®¹]
</chatgpt_response>

è«‹è©•åƒ¹é€™å€‹å›è¦†ã€‚ä½ åŒæ„ä»€éº¼ï¼Ÿä¸åŒæ„ä»€éº¼ï¼Ÿä½ æœƒè£œå……æˆ–ä¿®æ”¹ä»€éº¼ï¼Ÿ
```

---

## é™„éŒ„ Bï¼šDOM é¸æ“‡å™¨é€ŸæŸ¥è¡¨

### B.1 Claude

| ç”¨é€” | é¸æ“‡å™¨ |
|------|--------|
| è¼¸å…¥æ¡† | `div[contenteditable="true"].ProseMirror` |
| å‚³é€æŒ‰éˆ• | `button[aria-label="Send message"]` |
| å›è¦†å®¹å™¨ | `[data-is-streaming="false"]` |
| å›è¦†å…§å®¹ | `.standard-markdown` |
| ä¸²æµä¸­ | `[data-is-streaming="true"]` |

### B.2 ChatGPT

| ç”¨é€” | é¸æ“‡å™¨ |
|------|--------|
| è¼¸å…¥æ¡† | `#prompt-textarea` |
| å‚³é€æŒ‰éˆ• | `button[data-testid="send-button"]` |
| å›è¦†å®¹å™¨ | `[data-message-author-role="assistant"]` |
| å›è¦†å…§å®¹ | `.markdown` |
| ä¸²æµä¸­ | `.result-streaming`, `button[aria-label*="Stop"]` |

### B.3 Gemini

| ç”¨é€” | é¸æ“‡å™¨ |
|------|--------|
| è¼¸å…¥æ¡† | `.ql-editor` |
| å‚³é€æŒ‰éˆ• | `button[aria-label*="Send"]` |
| å›è¦†å…§å®¹ | `.model-response-text` |
| å‚™æ´å›è¦† | `message-content` |

---

*æœ¬è¦æ ¼æ–‡ä»¶åŸºæ–¼ AI åœ“æ¡Œ v0.2.0 åŸå§‹ç¢¼åˆ†æç”¢ç”Ÿã€‚*
